<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa Chatbot</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="chat-container">
        <h1>🎅 Chat with Santa!</h1>
        <div class="santa-selector">
            <button onclick="selectSanta('nice')" id="niceButton">Nice Santa</button>
            <button onclick="selectSanta('naughty')" id="naughtyButton">Naughty Santa</button>
        </div>
        <div class="chat-box" id="chatBox"></div>
        <div>
            <input type="text" id="userInput" placeholder="Type your message to Santa...">
            <button onclick="sendMessage()" id="sendButton">Send</button>
        </div>
        <div class="suggestions">
            <div class="keyword" onclick="suggestTopic('presents')">🎁 Presents</div>
            <div class="keyword" onclick="suggestTopic('reindeer')">🦌 Reindeer</div>
            <div class="keyword" onclick="suggestTopic('cookies')">🍪 Cookies</div>
            <div class="keyword" onclick="suggestTopic('christmas')">🎄 Christmas</div>
        </div>
    </div>

    <script>
        let currentSanta = 'nice';

        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.innerHTML = '❄';
            document.body.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }

        setInterval(createSnowflake, 500);

        const niceSantaResponses = {
            'hello': "Ho ho ho! Merry Christmas! How are you today?",
            'presents': "Ho ho ho! Have you been good this year? I'm checking my list twice!",
            'reindeer': "Rudolph and the gang are getting ready for the big night! They love carrots, by the way!",
            'cookies': "Ho ho ho! Cookies are my favorite! Especially when paired with a glass of milk!",
            'christmas': "Christmas is a wonderful time to spread love and cheer!",
            'tree': "Decorating the tree is my favorite holiday tradition. What's yours?",
            'elves': "My hardworking elves are making toys for everyone on the nice list!",
            'workshop': "My workshop is bustling with Christmas spirit and holiday cheer!",
            'music': "I love Christmas carols! My favorite is 'Jingle Bells.' What's yours?",
            'family': "Christmas is a time to be with loved ones. Family is the greatest gift of all!"
        };

        const naughtySantaResponses = {
            'hello': "Well, well, well... if it isn't another visitor. *checks naughty list*",
            'presents': "Presents? Maybe you'll get a lump of my premium coal collection!",
            'reindeer': "My reindeer are busy delivering coal. Rudolph said you're next!",
            'cookies': "Cookies? Did you bake them with your bad attitude?",
            'christmas': "Christmas? It's just another excuse for more work!",
            'tree': "Christmas trees? Bah humbug! I’d rather sit in the dark!",
            'elves': "My elves are exhausted from making all the coal for you naughty kids!",
            'workshop': "The workshop is overflowing with coal orders. Guess who's responsible for that?",
            'music': "Christmas music? Ugh, it's just noise to my ears.",
            'family': "Family time? Better make amends before the big day!"
        };

        const niceDefaultResponses = [
            "Ho ho ho! That's interesting! Tell me more!",
            "Ho ho ho! Even Santa learns new things every day!",
            "You're on the nice list with answers like that!",
            "Christmas spirit is strong with you! Keep it up!"
        ];

        const naughtyDefaultResponses = [
            "*checks naughty list* That’s going in your permanent record!",
            "*polishing my coal collection* You were saying something?",
            "You’re not making it easy to move to the nice list!",
            "Well, well... another mark for the naughty list!"
        ];

        function selectSanta(type) {
            currentSanta = type;
            document.body.style.backgroundColor = type === 'nice' ? '#2e7d32' : '#b71c1c';
            const greeting = type === 'nice'
                ? "Ho ho ho! Nice Santa here! What would you like to talk about?"
                : "Well, well... Naughty Santa at your service. What do you want?";
            addMessage(greeting, false);
        }

        function addMessage(message, isUser) {
            const chatBox = document.getElementById('chatBox');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'santa-message'} ${currentSanta}`;
            messageDiv.textContent = message;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getSantaResponse(userMessage) {
            const lowercaseMessage = userMessage.toLowerCase();
            const responses = currentSanta === 'nice' ? niceSantaResponses : naughtySantaResponses;
            const defaultResponses = currentSanta === 'nice' ? niceDefaultResponses : naughtyDefaultResponses;

            for (const [keyword, response] of Object.entries(responses)) {
                if (lowercaseMessage.includes(keyword)) {
                    return response;
                }
            }

            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        function sendMessage() {
            const userInput = document.getElementById('userInput');
            const message = userInput.value.trim();

            if (message) {
                addMessage(message, true);

                setTimeout(() => {
                    const santaResponse = getSantaResponse(message);
                    addMessage(santaResponse, false);
                }, 500);

                userInput.value = '';
            }
        }

        function suggestTopic(topic) {
            const userInput = document.getElementById('userInput');
            userInput.value = topic;
            sendMessage();
        }

        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        setTimeout(() => {
            addMessage("Ho ho ho! Welcome! Choose your Santa personality above!", false);
        }, 500);
    </script>
</body>
</html>
