<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa Chatbot</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="chat-container">
        <h1>🎅 Chat with Santa!</h1>
        <div class="santa-selector">
            <button onclick="selectSanta('nice')" id="niceButton" class="active">Nice Santa</button>
            <button onclick="selectSanta('naughty')" id="naughtyButton">Naughty Santa</button>
        </div>
        <div class="chat-box" id="chatBox"></div>
        <div>
            <input type="text" id="userInput" placeholder="Type your message to Santa...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        let currentSanta = 'nice';

        // Add festive snowfall effect
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.innerHTML = '❄';
            document.body.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }

        setInterval(createSnowflake, 500);

        const niceSantaResponses = {
            'hello': "Ho ho ho! Merry Christmas! How are you today?",
            'hi': "Ho ho ho! Hello there, dear friend!",
            'present': "Ho ho ho! Have you been good this year? I'm checking my list twice!",
            'gift': "My elves are working hard on making wonderful gifts!",
            'tree': "Nothing brings joy like decorating the Christmas tree! The star on top is magical!",
            'family': "Christmas is a wonderful time to be with family! It warms my heart to see families together!",
            'snow': "The snow at the North Pole is magical - perfect for building snowmen!",
            'wish': "Your Christmas wishes are important to me! I'll do my best to make them come true!",
            'hot chocolate': "Mmm, hot chocolate! Mrs. Claus makes the best cocoa with marshmallows!",
            'love': "Christmas is all about spreading love and joy. Keep shining your light!",
            'magic': "Christmas magic is everywhere! Can you feel it?",
            'decorations': "Twinkling lights and shiny ornaments make everything feel festive!",
            'holiday': "The holidays are about love, kindness, and giving. What’s your favorite part?"
        };

        const naughtySantaResponses = {
            'hello': "Well, well, well... if it isn't another visitor. *checks naughty list*",
            'hi': "HAH! Coming to negotiate your way off the naughty list?",
            'present': "Presents? Maybe you'll get a lump of my premium coal collection!",
            'gift': "Gifts are for good children! Maybe you'll get a broken toy instead!",
            'tree': "Christmas trees? Bah humbug! I’m more interested in tangled lights!",
            'family': "Family? Sounds nice... too bad you're on the naughty list.",
            'snow': "Snow is cold, just like the hearts of those on the naughty list.",
            'wish': "Wishes are for good kids! You've got some coal coming your way.",
            'hot chocolate': "Hot chocolate? I hope you didn’t burn it like you burn all your chances.",
            'love': "Love is overrated. Let's talk about the naughty list instead.",
            'magic': "Magic won't save you this time. The naughty list is permanent, my friend.",
            'decorations': "Decorations? More like a tangled mess of lights and broken ornaments!",
            'holiday': "Holidays are for relaxing. But I'll be working overtime on coal delivery!"
        };

        const niceDefaultResponses = [
            "Ho ho ho! That's interesting! Tell me more!",
            "Ho ho ho! Even Santa learns new things every day!",
            "What a delightful thought! Let's keep spreading cheer!",
            "You're on the nice list with answers like that!",
            "Christmas is better with friends like you. Tell me more!"
        ];

        const naughtyDefaultResponses = [
            "*checks naughty list* That’s going in your permanent record!",
            "Ho ho NO! That's definitely not helping your naughty list status.",
            "*polishing my coal collection* You were saying something?",
            "Another point for the naughty list. Care to try again?",
            "Your words are as messy as tangled lights!"
        ];

        function selectSanta(type) {
            currentSanta = type;
            document.getElementById('niceButton').classList.toggle('active', type === 'nice');
            document.getElementById('naughtyButton').classList.toggle('active', type === 'naughty');

            const greeting = type === 'nice'
                ? "Ho ho ho! Nice Santa here! What would you like to talk about?"
                : "Well, well... Naughty Santa at your service. What do you want?";
            addMessage(greeting, false);
        }

        function addMessage(message, isUser) {
            const chatBox = document.getElementById('chatBox');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'santa-message'}`;
            messageDiv.textContent = message;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getSantaResponse(userMessage) {
            const lowercaseMessage = userMessage.toLowerCase();
            const responses = currentSanta === 'nice' ? niceSantaResponses : naughtySantaResponses;
            const defaultResponses = currentSanta === 'nice' ? niceDefaultResponses : naughtyDefaultResponses;

            for (const [keyword, response] of Object.entries(responses)) {
                if (lowercaseMessage.includes(keyword)) {
                    return response;
                }
            }

            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        function sendMessage() {
            const userInput = document.getElementById('userInput');
            const message = userInput.value.trim();

            if (message) {
                addMessage(message, true);

                setTimeout(() => {
                    const santaResponse = getSantaResponse(message);
                    addMessage(santaResponse, false);
                }, 500);

                userInput.value = '';
            }
        }

        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        setTimeout(() => {
            addMessage("Ho ho ho! Welcome! Choose your Santa personality above!", false);
        }, 500);
    </script>
</body>
</html>
